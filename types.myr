use std
use utilfcgi

pkg fcgi =
	pkglocal type error = union
		`Eversion byte
		`Eshort
		`Etype utilfcgi.rtype
		`Econn
		`Emis
	;;

	pkglocal type server = struct
		ann	: std.announce#
		running	: bool
	;;

	pkglocal type request = struct
		id	: uint16
		fd	: std.fd
		params	: (byte[:], byte[:])[:]
		paramb	: byte[:]
		stdin	: byte[:]
	;;
;;
